sequenceDiagram
    participant MS as ðŸ¢ Membership System
    participant Auth as ðŸ” HelseId/STS
    participant HN as ðŸŒ Helsenorge API

    rect rgb(240, 248, 255)
        Note over MS,Auth: Authentication
        MS->>Auth: Request Access Token
        Auth-->>MS: Access Token (scope: Helsekontakter)
    end

    rect rgb(255, 250, 240)
        Note over MS,HN: 1. Send Health Offerings
        MS->>HN: POST /helsekontakter/api/v1
        Note right of MS: FHIR Bundle: HealthcareService + Organization + Location
        HN-->>MS: 200 OK
    end

    rect rgb(240, 255, 240)
        Note over MS,HN: 2. Send Member List
        MS->>HN: POST /helsekontakter/api/v1
        Note right of MS: FHIR Bundle: Patient[]
        HN-->>MS: Response per member
    end
